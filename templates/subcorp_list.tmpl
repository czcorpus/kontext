#*
Copyright (c) 2013 Institute of the Czech National Corpus

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; version 2
dated June, 1991.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
*#

#from translation import ugettext as _
#from cmpltmpl.conc import conc
#extends conc

#def title
$_("List of my subcorpora")#slurp
#end def

#def bodyonload
require(['tpl/subcorpList', 'conf', 'domReady!'], function(pageSelf, conf) {
    pageSelf.init(conf);
});
#end def


#def main
<section>
    <h2>$_('My subcorpora')</h2>

    <form id="mainform" action="subcorp_list" method="POST">

    <table class="data" border="0">
        <tr>
            <th><a href="subcorp_list?$q;$globals&sort=$sort_keys.n[0]">$_('name') #filter None#$sort_keys.n[1]#end filter#</a></th>
            <th><a href="subcorp_list?$q;$globals&sort=$sort_keys.size[0]">$_('size') ($_('positions')) #filter None#$sort_keys.size[1]#end filter#</a></th>
            <th><a href="subcorp_list?$q;$globals&sort=$sort_keys.created[0]">$_('created') #filter None#$sort_keys.created[1]#end filter#</a></th>
            <th></th>
        </tr>
        #set $counter = 1
        #for $item in $subcorp_list
        <tr #if $counter % 2 == 1#class="even"#end if#>
            <td><a href="first_form?corpname=$item.corpname&usesubcorp=$item.usesubcorp" title="$_('Search in the corpus')">$item.n</a></td>
            <td class="num">$format_number($item.size, mask='%d')</td>
            <td>$item.created</td>
            <td>
                <input type="checkbox" name="selected_subc" value="$item.n" />
            </td>
        </tr>
        #set $counter = $counter + 1
        #end for
    </table>
    <p>
        <button type="submit" name="action" value="delete">$_('Delete selected')</button>
    </p>
    </form>
</section>

#end def