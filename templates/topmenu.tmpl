#from cmpltmpl.document import document
#from templating.filters import *
#extends document
#def body
#if $varExists('_ca_topbar')
$_ca_topbar
#else
<script type="text/javascript">
var msg = '$_('Positions are basic units for searching the corpus that correspond to tokens: every single occurrence of a word form, number or punctuation symbol in the corpus constitutes a position. Corpus size in positions given by the search interface is therefore higher than corpus size in number of words given on the <a href="http://www.korpus.cz/english/struktura.php" target="_blank">ICNC web pages</a>, where only postions containing at least one alphabetic character are considered.')';
document.observe('dom:loaded', function () {
    \$('positions-help-link').observe('click', function (event) {
        var newElem,
            pageWidth = document.viewport.getDimensions().width,
            horizPadding = 8,
            totalBoxWidth = 638,
            boxWidth = 620,
            borderWidth = 1;

        if (\$('positions-help')) {
            \$('positions-help').remove();

        } else {
            newElem = Element.extend(document.createElement('div'));
            newElem.writeAttribute('id', 'positions-help');
            newElem.update(msg);
            newElem.setStyle({
                padding : '5px ' + horizPadding + 'px',
                position : 'absolute',
                top : 0,
                border : borderWidth + 'px solid #DDD',
                color : '#333',
                backgroundColor : '#FFF',
                width : boxWidth + 'px',
                height: '70px'
            });
            if (pageWidth - totalBoxWidth > event.element().cumulativeOffset()[0]) {
                newElem.setStyle({
                    left : event.element().cumulativeOffset()[0] + 'px'
                });
            } else {
                newElem.setStyle({
                    left : '100%',
                    marginLeft : '-' + (boxWidth + 2 * horizPadding + 2 * borderWidth) + 'px'
                });
            }
            document.viewport.getDimensions();
            \$('toolbar-info').insert({ after : newElem });
        }
        event.stop();
    });
    Event.observe(document, 'click', function (event) {
        if (\$('positions-help')) {
            \$('positions-help').remove();
        }
    });
});
</script>
#filter WebSafe
<form id="help-search-form" action="" onsubmit="cmdHelp('https://trac.sketchengine.co.uk/');">
<table id="topbar">
  <tr>
    <td rowspan="2">
      <a href="$_home_url">
        <img id="logo" alt="$_("Sketch Engine")" src="$files_path/img/${css_prefix}logo.png" />
      </a>
    </td>
    <td id="topbar-navigation">
            $_("Search")
            <input type="text" id="searchhelp" />
            $_("in")
            <a href='https://trac.sketchengine.co.uk/' onclick="cmdHelp('https://trac.sketchengine.co.uk/');return false;">$_("Help")</a>
    </td>
  </tr>
</table>
</form>

<form id="corpus-search-form" action="simple_search">
<table id="toolbar">
  <tr>
    <td id="toolbar-info">
    <ul>
      <li>$_("User"): <strong>$_user</strong></li>
      <li>$_("Corpus"): <strong>$corp_full_name</strong></li>
      #if $corp_description
        <li>$_('Description'): #if $corp_web# <a class="corpus-desc" href="$corp_web" target="_blank" title="$_('click for details')">#end if#
            <strong>$corp_description</strong>#if $corp_web#</a>#end if#
        </li>
      #end if
      #if $corp_size
        <li>$_('Size'): <strong>$corp_size</strong> <sup><a id="positions-help-link" href="#">?</a></sup></li>
      #end if
      #if $usesubcorp
      <li>$_('Subcorpus'): <strong>$usesubcorp</strong></li>
      #end if
    #if $concsize
      <li>$_('Hits'): <strong>#filter $IntegerFormatter# $concsize #end filter#</strong></li>
      #if $concarf
        <li>($concarf)</li>
      #end if
    #end if
    </ul>
        
    </td>
  </tr>
</table>
</form>
#end filter
#end if

<hr class="hidden" />
$container
#end def
